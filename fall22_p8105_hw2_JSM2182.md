Homework 2
================
Jennifer Mizhquiri Barbecho

# Problem 1

\`

``` r
nyctransit_df = 
  read_csv("./data/NYC_Transit_Subway_Entrance_And_Exit_Data.csv") %>%
  janitor::clean_names() %>% # figure out how to make NAs blank
  select(line:entry, vending, ada) %>% 
  mutate(entry = recode(entry, "YES" = 1, "NO" = 0)) #when to use <-
```

``` r
head(nyctransit_df)
```

    ## # A tibble: 6 × 19
    ##   line  stati…¹ stati…² stati…³ route1 route2 route3 route4 route5 route6 route7
    ##   <chr> <chr>     <dbl>   <dbl> <chr>  <chr>  <chr>  <chr>  <chr>  <chr>  <chr> 
    ## 1 4 Av… 25th St    40.7   -74.0 R      <NA>   <NA>   <NA>   <NA>   <NA>   <NA>  
    ## 2 4 Av… 25th St    40.7   -74.0 R      <NA>   <NA>   <NA>   <NA>   <NA>   <NA>  
    ## 3 4 Av… 36th St    40.7   -74.0 N      R      <NA>   <NA>   <NA>   <NA>   <NA>  
    ## 4 4 Av… 36th St    40.7   -74.0 N      R      <NA>   <NA>   <NA>   <NA>   <NA>  
    ## 5 4 Av… 36th St    40.7   -74.0 N      R      <NA>   <NA>   <NA>   <NA>   <NA>  
    ## 6 4 Av… 45th St    40.6   -74.0 R      <NA>   <NA>   <NA>   <NA>   <NA>   <NA>  
    ## # … with 8 more variables: route8 <dbl>, route9 <dbl>, route10 <dbl>,
    ## #   route11 <dbl>, entrance_type <chr>, entry <dbl>, vending <chr>, ada <lgl>,
    ## #   and abbreviated variable names ¹​station_name, ²​station_latitude,
    ## #   ³​station_longitude

This dataset contains administrative, compliance, and geographic data on
the NYC transit system. It has 19 columns and 1868 rows. At this point,
the variable names have been cleaned and one variable (entry) has been
recoded so that it is a 0 or 1 instead of a character. Other aspects of
the data have not been further inspected so it is not tidy.

*Additional information*

There are 465 distinct stations in the dataset.

    ## # A tibble: 84 × 2
    ##    line            station_name                  
    ##    <chr>           <chr>                         
    ##  1 4 Avenue        Atlantic Av-Barclays Ctr      
    ##  2 4 Avenue        DeKalb Av                     
    ##  3 4 Avenue        Pacific St                    
    ##  4 42nd St Shuttle Grand Central                 
    ##  5 6 Avenue        34th St                       
    ##  6 6 Avenue        47-50th Sts Rockefeller Center
    ##  7 6 Avenue        Church Av                     
    ##  8 63rd Street     21st St                       
    ##  9 63rd Street     Lexington Av                  
    ## 10 63rd Street     Roosevelt Island              
    ## # … with 74 more rows

There are 84 stations that are ADA compliant.

    ## # A tibble: 2 × 2
    ##   entry vending_entrance
    ##   <dbl>            <int>
    ## 1     0              114
    ## 2     1               69

0.3770492 % of stations with no vending allow entrance.

*reformat the data*

``` r
nyctransit_long = 
  nyctransit_df %>% 
  mutate(
    route8 = as.character(route8)) %>% 
  pivot_longer(
    nyctransit_df, route1:route11,
    names_to = "route_num",
    names_prefix = "route",
    values_to = "route_name") %>% 
  mutate(
    route_num = factor(route_num)
  )
```

# Problem 2

*Mr. Trash wheel dataset* \* I am adding a variable wheel with value of
“mr” applying to all obs, for later merging.

*Professor Trashwheel dataset* \* I am adding a variable wheel with
value of prof and applying to all obs

-   note that in professor wheels dumpster variable was numeric. to make
    it match what is in mr trashwheels, the variable is converted to
    character

*Office Hour question: How to make sure that I don’t mistakenly add a
variable to my original dataset*

Combine both datasets into combo_wheels

*About the combined dataset*

There are 525 observations in the resulting dataset. This dataset
demonstrates various categories of collected items (i.e. sports balls,
glass bottles, trash bottles) by weight (in tons), across years (2014 -
2021). This is helpful for generating summary stats on output and can
help compare efficacy between mr. trashwheels and professor trash
wheels. For example, In the year 2020, Mr. Trashwheels collected 72
sports balls.

``` r
combo_wheels_tidy %>% 
  filter(
    wheel == "mr",
    year == 2020) %>% 
  summarize(sports_balls = n())
```

``` r
combo_wheels_tidy %>%
  distinct(year) #ask why this doesn't work in inline r
```

# Problem 3

Import and clean pols-month.csv \* note: data is sorted by year and
month \* year and month were moved to become the leading columns \*
month is a character variable and each value is renamed to their
corresponding month \* president variable was created to denote
affiliation (i.e. dem = Democrat; gop = GOP) \*

    ## Rows: 822 Columns: 9
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl  (8): prez_gop, gov_gop, sen_gop, rep_gop, prez_dem, gov_dem, sen_dem, r...
    ## date (1): mon
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
head(pols_df)
```

    ## # A tibble: 6 × 9
    ##   year  month    gov_gop sen_gop rep_gop gov_dem sen_dem rep_dem president
    ##   <chr> <chr>      <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl> <chr>    
    ## 1 1947  April         23      51     253      23      45     198 dem      
    ## 2 1947  April         23      51     253      23      45     198 gop      
    ## 3 1947  August        23      51     253      23      45     198 dem      
    ## 4 1947  August        23      51     253      23      45     198 gop      
    ## 5 1947  December      24      51     253      23      45     198 dem      
    ## 6 1947  December      24      51     253      23      45     198 gop

Import and clean snp.csv \* note: data is sorted by year and month \*
year and month were moved to become the leading columns \* month is a
character variable and each value is renamed to their corresponding
month \* president variable was created to denote affiliation (i.e. dem
= Democrat; gop = GOP)

*Why did/how can i make sure my year does not get reduced to 2 digits*

    ## Rows: 787 Columns: 2
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (1): date
    ## dbl (1): close
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
head(snp_df)
```

    ## # A tibble: 6 × 3
    ##   year  month    close
    ##   <chr> <chr>    <dbl>
    ## 1 00    April    1452.
    ## 2 00    August   1518.
    ## 3 00    December 1320.
    ## 4 00    February 1366.
    ## 5 00    January  1394.
    ## 6 00    July     1431.

    ## Rows: 68 Columns: 13
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl (13): Year, Jan, Feb, Mar, Apr, May, Jun, Jul, Aug, Sep, Oct, Nov, Dec
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
head(unemp_df)
```

    ## # A tibble: 6 × 3
    ##   year  month    unemp_freq
    ##   <chr> <chr>         <dbl>
    ## 1 1948  April           3.9
    ## 2 1948  August          3.9
    ## 3 1948  December        4  
    ## 4 1948  February        3.8
    ## 5 1948  January         3.4
    ## 6 1948  July            3.6

*Joining SNP TO POLS* \* in which pols is the given x data set with 9
columns \* in which snp is the given y data set with 3 columns

``` r
pols_snp_df = 
  left_join(pols_df, snp_df, by = c("year" = "year", "month" = "month"))
```

*Joining unemployment to the SNP/POLS merged dataset*

``` r
pols_snp_unemp_df = 
  left_join(pols_snp_df, unemp_df, by =  c("year" = "year", "month" = "month"))
```

*Combined dataset*

``` r
head(pols_snp_unemp_df)
```

    ## # A tibble: 6 × 11
    ##   year  month    gov_gop sen_gop rep_gop gov_dem sen_dem rep_dem president close
    ##   <chr> <chr>      <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl> <chr>     <dbl>
    ## 1 1947  April         23      51     253      23      45     198 dem          NA
    ## 2 1947  April         23      51     253      23      45     198 gop          NA
    ## 3 1947  August        23      51     253      23      45     198 dem          NA
    ## 4 1947  August        23      51     253      23      45     198 gop          NA
    ## 5 1947  December      24      51     253      23      45     198 dem          NA
    ## 6 1947  December      24      51     253      23      45     198 gop          NA
    ## # … with 1 more variable: unemp_freq <dbl>

The resulting combined dataset is 11 columns by 1644 rows. The year span
is 1947 to 2015. Key data include the frequency of senators, governors,
and representatives by party affiliation, the party affiliation of the
president, the close number, and the unemployment rates, all by year and
month.
